(this["webpackJsonprent-something"]=this["webpackJsonprent-something"]||[]).push([[0],{15:function(e,i,t){},19:function(e,i,t){"use strict";t.r(i);var a=t(1),l=t.n(a),n=t(9),c=t.n(n),d=(t(15),t(3)),o=t(4),r=t(2);function s(e,i){var t=Object(a.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):i}catch(a){return console.log(a),i}})),l=Object(r.a)(t,2),n=l[0],c=l[1];return[n,function(i){try{var t=i instanceof Function?i(n):i;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(a){console.log(a)}}]}var m=[{code:"p1",name:"Air Compressor 12 GAS",type:"plain",availability:!0,needing_repair:!1,durability:3e3,max_durability:3e3,mileage:null,price:4500,minimum_rent_period:1},{code:"p2",name:"Air Compressor 5 Electric",type:"plain",availability:!0,needing_repair:!1,durability:1500,max_durability:2e3,mileage:null,price:6500,minimum_rent_period:1},{code:"p3",name:"Dia Blade 14 inch",type:"plain",availability:!0,needing_repair:!1,durability:4e4,max_durability:5e4,mileage:null,price:3e3,minimum_rent_period:2},{code:"p4",name:"Copper Blade 5 inch",type:"plain",availability:!1,needing_repair:!0,durability:0,max_durability:2e3,mileage:null,price:200,minimum_rent_period:2},{code:"p5",name:"Copper Blade 5 inch",type:"plain",availability:!1,needing_repair:!0,durability:0,max_durability:2e3,mileage:null,price:200,minimum_rent_period:2},{code:"p6",name:"Copper Blade 8 inch",type:"plain",availability:!0,needing_repair:!1,durability:1500,max_durability:2e3,mileage:null,price:300,minimum_rent_period:2},{code:"p7",name:"Beam Clamp",type:"plain",availability:!0,needing_repair:!1,durability:15e3,max_durability:2e4,mileage:null,price:800,minimum_rent_period:30},{code:"p8",name:"Beam Clamp",type:"plain",availability:!0,needing_repair:!1,durability:1e4,max_durability:2e4,mileage:null,price:800,minimum_rent_period:30},{code:"p9",name:"Beam Clamp",type:"plain",availability:!1,needing_repair:!1,durability:5e3,max_durability:2e4,mileage:null,price:800,minimum_rent_period:30},{code:"m1",name:"Boom lift 40",type:"meter",availability:!0,needing_repair:!1,durability:4e3,max_durability:8e3,mileage:1e4,price:1e3,minimum_rent_period:4},{code:"m2",name:"Boom lift 60",type:"meter",availability:!0,needing_repair:!1,durability:8e3,max_durability:1e4,mileage:5e3,price:1500,minimum_rent_period:4},{code:"m3",name:"Boom lift 80",type:"meter",availability:!1,needing_repair:!0,durability:500,max_durability:12e3,mileage:200,price:2e3,minimum_rent_period:2},{code:"m4",name:"Boom lift 100",type:"meter",availability:!0,needing_repair:!1,durability:4e3,max_durability:12e3,mileage:8500,price:2500,minimum_rent_period:2},{code:"m5",name:"Boom lift 20",type:"meter",availability:!0,needing_repair:!1,durability:1200,max_durability:8e3,mileage:600,price:500,minimum_rent_period:1},{code:"m6",name:"Boom lift 20",type:"meter",availability:!0,needing_repair:!1,durability:8e3,max_durability:8e3,mileage:0,price:500,minimum_rent_period:1},{code:"m7",name:"Boom lift 20",type:"meter",availability:!0,needing_repair:!1,durability:5e3,max_durability:8e3,mileage:1200,price:500,minimum_rent_period:1},{code:"m8",name:"Boom lift 40",type:"meter",availability:!0,needing_repair:!1,durability:8e3,max_durability:1e4,mileage:2500,price:1e3,minimum_rent_period:2}];var b=t(0),u=l.a.createContext();function j(){return Object(a.useContext)(u)}var v=function(e){var i=e.children,t=s("allItems",[]),l=Object(r.a)(t,2),n=l[0],c=l[1],d=Object(a.useState)(),o=Object(r.a)(d,2),j=o[0],v=o[1],p=Object(a.useState)([]),O=Object(r.a)(p,2),x=O[0],h=O[1],y=s("bookedItems",[]),g=Object(r.a)(y,2),f=g[0],_=g[1];return Object(a.useEffect)((function(){n.length||c(m)}),[n,c]),Object(b.jsx)(u.Provider,{value:{selectedItem:j,setSelectedItem:v,filteredItems:x,setFilteredItems:h,allItems:n,setAllItems:c,bookedItems:f,setBookedItems:_},children:i})},p=t(6),O=t.n(p);var x=function(e){var i=e.product,t=e.type,a=void 0===t?"book":t;return Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:null===i||void 0===i?void 0:i.name}),Object(b.jsxs)("div",{className:"row",children:["book"===a?Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("strong",{children:"Minimum Rental Period"}),"".concat(null===i||void 0===i?void 0:i.minimum_rent_period)]}):Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("strong",{children:"Rental Period"}),null===i||void 0===i?void 0:i.loanDays," days"]}),Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("strong",{children:"Mileage"})," ",null===i||void 0===i?void 0:i.mileage]}),Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("strong",{children:"Need Fix?"})," ",(null===i||void 0===i?void 0:i.needing_repair)?"Yes":"No"]})]})]})})};var h=function(e){var i=e.type,t=void 0===i?"book":i,a=j(),l=a.selectedItem,n=a.setSelectedItem,c=a.allItems,o=a.bookedItems,r=c.filter((function(e){return!0===e.availability})),s="book"===t?r:o;function m(e){var i=function(e,i){return Object(d.a)(Object(d.a)({},e),{},{index:i})}(s[e],e);n(i)}return Object(b.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){var i;return m(+(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value))},value:(null===l||void 0===l?void 0:l.index)||"",children:[!(null===l||void 0===l?void 0:l.code)&&Object(b.jsx)("option",{children:"Please select"}),s.map((function(e,i){return Object(b.jsx)("option",{value:i,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.code)}))]})},y="YYYY-MM-DD";var g=function(){var e=j(),i=e.selectedItem,t=e.setSelectedItem,l=e.allItems,n=e.setAllItems,c=e.setBookedItems,s=Object(a.useState)(),m=Object(r.a)(s,2),u=m[0],v=m[1],p=Object(a.useState)([O()().format(y),O()().add((null===i||void 0===i?void 0:i.minimum_rent_period)||0,"day").format(y)]),g=Object(r.a)(p,2),f=g[0],_=g[1];function N(){return O()(f[1]).diff(f[0],"day")}function I(){v()}return Object(a.useEffect)((function(){_((function(e){return[e[0],O()().add((null===i||void 0===i?void 0:i.minimum_rent_period)||0,"day").format(y)]}))}),[i]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#bookModal",children:"Book"}),Object(b.jsx)("div",{className:"modal fade",id:"bookModal",tabIndex:"-1","aria-labelledby":"bookModalLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",id:"bookModalLabel",children:"Book A Product"}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:I})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsx)("div",{className:"row",children:u?Object(b.jsxs)("div",{className:"col-auto",children:[Object(b.jsxs)("p",{children:["Your total Price is ",Object(b.jsxs)("strong",{children:["$",u," "]})]}),"Do you want to proceed?"]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"col-12 my-3",children:Object(b.jsx)(h,{type:"book"})}),i&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"col-12 mb-3",children:Object(b.jsx)(x,{product:i})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"mb-1",htmlFor:"fromInput",children:"From"}),Object(b.jsx)("input",{value:f[0],type:"date",className:"form-control",id:"fromInput",onChange:function(e){return _([e.target.value,f[1]])}})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"mb-1",htmlFor:"toInput",children:"To"}),Object(b.jsx)("input",{value:f[1],type:"date",className:"form-control",id:"toInput",onChange:function(e){return _([f[0],e.target.value])}})]})})]})]})})}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:I,children:"No"}),Object(b.jsx)("button",{onClick:u?function(){if(null===i||void 0===i?void 0:i.availability){var e=N(),a=l.findIndex((function(e){return(null===e||void 0===e?void 0:e.code)===(null===i||void 0===i?void 0:i.code)})),r=Object(o.a)(l);r[a]=Object(d.a)(Object(d.a)({},r[a]),{},{availability:!1});var s=Object(d.a)(Object(d.a)({},r[a]),{},{loanDays:e});c((function(e){return[s].concat(Object(o.a)(e))})),n(r),t(null),I()}}:function(){var e=N();if(e<(null===i||void 0===i?void 0:i.minimum_rent_period))alert("You have to rent it for minimum of ".concat(null===i||void 0===i?void 0:i.minimum_rent_period," days"));else{var t=e*((null===i||void 0===i?void 0:i.price)||0);v(t)}},type:"button","data-bs-dismiss":u?"modal":null,className:"btn btn-primary",disabled:!i,children:"Yes"})]})]})})})]})};var f=function(){var e=j(),i=e.selectedItem,t=e.filteredItems;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("table",{className:"table table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"#"}),Object(b.jsx)("th",{scope:"col",children:"Name"}),Object(b.jsx)("th",{scope:"col",children:"Code"}),Object(b.jsx)("th",{scope:"col",children:"Need to Repair"}),Object(b.jsx)("th",{scope:"col",children:"Durability"}),Object(b.jsx)("th",{scope:"col",children:"Avaibility"}),Object(b.jsx)("th",{scope:"col",children:"Mileage"}),Object(b.jsx)("th",{scope:"col",children:"Price"})]})}),Object(b.jsx)("tbody",{children:t.map((function(e,t){return Object(b.jsxs)("tr",{style:{cursor:"pointer"},className:(null===e||void 0===e?void 0:e.code)===(null===i||void 0===i?void 0:i.code)?"table-active":null,children:[Object(b.jsx)("th",{scope:"row",children:t+1}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.name}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.code}),Object(b.jsx)("td",{children:(null===e||void 0===e?void 0:e.needing_repair)?"Yes":"No"}),Object(b.jsx)("td",{children:"".concat(null===e||void 0===e?void 0:e.durability," / ").concat(null===e||void 0===e?void 0:e.max_durability)}),Object(b.jsx)("td",{children:(null===e||void 0===e?void 0:e.availability)?"Yes":"No"}),Object(b.jsx)("td",{children:(null===e||void 0===e?void 0:e.mileage)?null===e||void 0===e?void 0:e.mileage:0}),Object(b.jsxs)("td",{children:["$",null===e||void 0===e?void 0:e.price]})]},null===e||void 0===e?void 0:e.code)}))})]})})};var _=function(){var e=Object(a.useState)(),i=Object(r.a)(e,2),t=i[0],l=i[1],n=j(),c=n.allItems,s=n.setAllItems,m=n.bookedItems,u=n.setBookedItems,v=n.setSelectedItem,p=n.selectedItem,O=10*(null===p||void 0===p?void 0:p.loanDays);function y(){l(null)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Return"}),Object(b.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",id:"bookModalLabel",children:"Return A Product"}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(b.jsx)("div",{className:"modal-body",children:t?Object(b.jsxs)("div",{className:"col-auto",children:[Object(b.jsxs)("p",{children:["Your total Price is ",Object(b.jsxs)("strong",{children:["$",t||0," "]})]}),"Do you want to proceed?"]}):Object(b.jsxs)("div",{className:"col-12 my-3",children:[Object(b.jsx)(h,{type:"return"}),p&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"col-12 my-3",children:Object(b.jsx)(x,{product:p,type:"rent"})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"Used Mileage"})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("strong",{children:Object(b.jsx)("p",{children:O||0})})})]})]})}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:y,children:"No"}),Object(b.jsx)("button",{onClick:t?function(){var e,i,t,a,l=c.findIndex((function(e){return(null===e||void 0===e?void 0:e.code)===(null===p||void 0===p?void 0:p.code)})),n=Object(o.a)(c),r=null===p||void 0===p?void 0:p.loanDays,b=0;"plain"===(null===(e=n[l])||void 0===e?void 0:e.type)&&(b=1),"meter"===(null===(i=n[l])||void 0===i?void 0:i.type)&&(b=2);var j=b*r+2*r;n[l]=Object(d.a)(Object(d.a)({},n[l]),{},{mileage:((null===(t=n[l])||void 0===t?void 0:t.mileage)||0)+10*r,durability:(null===(a=n[l])||void 0===a?void 0:a.durability)-j,availability:!0});var O=Object(o.a)(m);O.splice(null===p||void 0===p?void 0:p.index,1),u(O),s(n),v(),y()}:function(){var e=(null===p||void 0===p?void 0:p.loanDays)*((null===p||void 0===p?void 0:p.price)||0);l(e)},type:"button",className:"btn btn-primary","data-bs-dismiss":t?"modal":null,disabled:!p,children:"Yes"})]})]})})})]})},N=t(10);var I=function(){var e=Object(a.useState)(""),i=Object(r.a)(e,2),t=i[0],l=i[1],n=j(),c=n.setFilteredItems,d=n.allItems,o=Object(a.useCallback)(Object(N.debounce)((function(e,i){c(function(e,i){return i.filter((function(i){return null===i||void 0===i?void 0:i.name.toLowerCase().includes(e.toLowerCase())}))}(e,i))}),300),[]);return Object(a.useEffect)((function(){t?o(t,d):c(d)}),[d,c,t,o]),Object(b.jsx)("div",{className:"row justify-content-end",children:Object(b.jsx)("div",{className:"col-4 mb-4",children:Object(b.jsx)("div",{className:"input-group mb-3",children:Object(b.jsx)("input",{value:t,onChange:function(e){var i;return l(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)},type:"text",className:"form-control",placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon1"})})})})};var k=function(){var e=j(),i=e.setAllItems,t=e.setBookedItems;return Object(b.jsx)("button",{onClick:function(){i(m),t([]),window.location.reload()},type:"button",className:"btn btn-success",children:"Reset Seed Data"})};var C=function(){return Object(b.jsx)("div",{className:"container py-5",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)(k,{})}),Object(b.jsx)("div",{className:"col-10",children:Object(b.jsx)(I,{})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)(f,{})}),Object(b.jsxs)("div",{className:"row justify-content-end",children:[Object(b.jsx)("div",{className:"col-auto",children:Object(b.jsx)(g,{})}),Object(b.jsx)("div",{className:"col-auto",children:Object(b.jsx)(_,{})})]})]})})},B=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,20)).then((function(i){var t=i.getCLS,a=i.getFID,l=i.getFCP,n=i.getLCP,c=i.getTTFB;t(e),a(e),l(e),n(e),c(e)}))};c.a.render(Object(b.jsx)(l.a.StrictMode,{children:Object(b.jsx)(v,{children:Object(b.jsx)(C,{})})}),document.getElementById("root")),B()}},[[19,1,2]]]);
//# sourceMappingURL=main.d14c5f0d.chunk.js.map